<!-- resources/templates/fragments/sidebar.html -->
<div class="bg-white border-end shadow-sm" style="width: 270px; min-height: 100vh;" th:fragment="sidebar">
    <div class="p-3 border-bottom">
        <h5 class="mb-0 text-primary d-flex align-items-center">
            ðŸ“¡ Insight Monitor
            <div id="sidebar-loading" class="spinner-border spinner-border-sm text-primary ms-2 d-none" role="status"
                 style="width: 0.9rem; height: 0.9rem; border: 2px solid currentColor; border-right-color: transparent; border-radius: 50%;">
                <span class="visually-hidden">Loading...</span>
            </div>
        </h5>
    </div>
    <ul class="nav flex-column p-2">

        <!-- General -->
        <li class="nav-item text-uppercase small text-muted px-2 mt-2 mb-1">General</li>
        <li class="nav-item mb-1">
            <a th:href="@{/dashboard}" th:classappend="${requestUri.startsWith('/dashboard')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-speedometer2 me-2"></i> Dashboard
            </a>
        </li>
        <li class="nav-item mb-1">
            <a th:href="@{/chat}" th:classappend="${requestUri.startsWith('/chat')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-chat-dots me-2"></i> Internal Chat
            </a>
        </li>

        <li class="nav-item mb-1">
            <a th:href="@{/note}" th:classappend="${requestUri.startsWith('/note')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-journal me-2"></i> Insight Notepad
            </a>
        </li>

        <hr class="my-2">

        <!-- Tools -->
        <li class="nav-item text-uppercase small text-muted px-2 mt-2 mb-1">Tools</li>
        <li class="nav-item mb-1">
            <a th:href="@{/feign-logs}" th:classappend="${requestUri.startsWith('/feign-logs')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-graph-up-arrow me-2"></i> Feign Logs
            </a>
        </li>
        <li class="nav-item mb-1">
            <a th:href="@{/content-store}" th:classappend="${requestUri.startsWith('/content-store')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-box-seam me-2"></i> Content Store
            </a>
        </li>
        <li class="nav-item mb-1">
            <a th:href="@{/raw}" th:classappend="${requestUri.startsWith('/raw')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-table me-2"></i> Raw View
            </a>
        </li>
        <li class="nav-item mb-1">
            <a th:href="@{/architecture}" th:classappend="${requestUri.startsWith('/architecture')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-diagram-3 me-2"></i> Architecture
            </a>
        </li>
        <li class="nav-item mb-1">
            <a th:href="@{/snippets}" th:classappend="${requestUri.startsWith('/snippets')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-code-slash me-2"></i> Code Snippets
            </a>
        </li>
        <!-- System Monitor -->
        <li class="nav-item mb-1">
            <a th:href="@{/system-info}" th:classappend="${requestUri.startsWith('/system-info')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-hdd-network me-2"></i> System Info
            </a>
        </li>

        <hr class="my-2">

        <!-- System -->
        <li class="nav-item text-uppercase small text-muted px-2 mt-2 mb-1">System</li>
        <li class="nav-item mb-1">
            <a th:href="@{/settings}" th:classappend="${requestUri.startsWith('/settings')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-gear me-2"></i> Settings
            </a>
        </li>
        <li class="nav-item mb-1">
            <a th:href="@{/users}" th:classappend="${requestUri.startsWith('/users')} ? 'active text-white' : 'text-dark'"
               class="nav-link d-flex align-items-center">
                <i class="bi bi-people me-2"></i> User Management
            </a>
        </li>

        <li class="nav-item mb-1">
            <a th:href="@{/query}"
               th:classappend="${requestUri.startsWith('/query')} ? 'active text-white bg-primary' : 'text-dark'"
               class="nav-link d-flex align-items-center rounded">
                <i class="bi bi-database me-2"></i> Query DB
            </a>
        </li>

        <hr class="my-2">

        <!-- Other -->
        <li class="nav-item text-uppercase small text-muted px-2 mt-2 mb-1">Other</li>
        <li class="nav-item mb-1">
            <a href="#" class="nav-link text-danger d-flex align-items-center">
                <i class="bi bi-box-arrow-right me-2"></i> Logout
            </a>
        </li>
    </ul>
</div>
